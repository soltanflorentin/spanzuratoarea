<!DOCTYPE html>
<html id="htmlBackground">
  <head>
    <meta charset="utf-8">
    <title>Spanzuratoarea</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/94bd77e01c.js" crossorigin="anonymous"></script>
  </head>
  <body style="background-image: url('multicolor5.jpg');">
    <div id="cadranJoc" style="background: lightgreen;">
      <div class="inputSubmitUsername">
        <form id="formUsername">
          <input id="inputUsername" type="text" autocomplete="off" value="" placeholder="Username">
          <br>
          <input id="inputPassword" type="password" value="" placeholder="Password">
        </form>
      </div>
      <div class="regulament">
        <i title="REGULAMENT: La fiecare 2 cuvinte ghicite sau gresite consecutiv treci automat la nivelul urmator sau respectiv inferior."  class="fas fa-question-circle"></i>
      </div>
      <div class="classScor">
          <p class="scorTot scor">Scor Total: <span id="scorTotal">0</span></p>   <!-- Scor total -->
          <p class="scorAct scor">Scor Actual: <span id="scorActual">0</span></p>
      </div>
      <br>
      <form class="nivele">
          <input id="easy" type="radio" name="levels" value="easy" checked>
          <label for="easy" title="Ai 15 incercari">Easy</label>
          <input id="medium" type="radio" name="levels" value="medium">
          <label for="medium" title="Ai 10 incercari">Medium</label>
          <input id="hard" type="radio" name="levels" value="hard">
          <label for="hard" title="Ai 5 incercari">Hard</label>
      </form>
      <br>
      <div id="topBlock">
          <img id="pozProfil" src="smiley.png" alt="flo">
          <img id="emoji_sex" src="smiley.png" alt="emoji">
          <h1>Ghiceste cuvantul !</h1>


          <div class="startJocul">
               <button id="startJoc" type="button"  onclick="nume()">Start joc</button>
          </div>
          <br>
          <div class="clasaLitereToate">
              <div class="clasaLitereAM">
                <button id="a" class="litereAM" name="litera" type="button" onclick="literaCheck('A')">A</button>
                <button id="b" class="litereAM" name="litera" type="button" onclick="literaCheck('B')">B</button>
                <button id="c" class="litereAM" name="litera" type="button" onclick="literaCheck('C')">C</button>
                <button id="d" class="litereAM" name="litera" type="button" onclick="literaCheck('D')">D</button>
                <button id="e" class="litereAM" name="litera" type="button" onclick="literaCheck('E')">E</button>
                <button id="f" class="litereAM" name="litera" type="button" onclick="literaCheck('F')">F</button>
                <button id="g" class="litereAM" name="litera" type="button" onclick="literaCheck('G')">G</button>
                <button id="h" class="litereAM" name="litera" type="button" onclick="literaCheck('H')">H</button>
                <button id="i" class="litereAM" name="litera" type="button" onclick="literaCheck('I')">I</button>
                <button id="j" class="litereAM" name="litera" type="button" onclick="literaCheck('J')">J</button>
                <button id="k" class="litereAM" name="litera" type="button" onclick="literaCheck('K')">K</button>
                <button id="l" class="litereAM" name="litera" type="button" onclick="literaCheck('L')">L</button>
                <button id="m" class="litereAM" name="litera" type="button" onclick="literaCheck('M')">M</button>
              </div>
              <div class="clasaLitereNZ">
                <button id="n" class="litereAM" name="litera" type="button" onclick="literaCheck('N')">N</button>
                <button id="o" class="litereAM" name="litera" type="button" onclick="literaCheck('O')">O</button>
                <button id="p" class="litereAM" name="litera" type="button" onclick="literaCheck('P')">P</button>
                <button id="q" class="litereAM" name="litera" type="button" onclick="literaCheck('Q')">Q</button>
                <button id="r" class="litereAM" name="litera" type="button" onclick="literaCheck('R')">R</button>
                <button id="s" class="litereAM" name="litera" type="button" onclick="literaCheck('S')">S</button>
                <button id="t" class="litereAM" name="litera" type="button" onclick="literaCheck('T')">T</button>
                <button id="u" class="litereAM" name="litera" type="button" onclick="literaCheck('U')">U</button>
                <button id="v" class="litereAM" name="litera" type="button" onclick="literaCheck('V')">V</button>
                <button id="w" class="litereAM" name="litera" type="button" onclick="literaCheck('W')">W</button>
                <button id="x" class="litereAM" name="litera" type="button" onclick="literaCheck('X')">X</button>
                <button id="y" class="litereAM" name="litera" type="button" onclick="literaCheck('Y')">Y</button>
                <button id="z" class="litereAM" name="litera" type="button" onclick="literaCheck('Z')">Z</button>
              </div>
          </div>

          <div class="textMijloc">
                  <div class="mesajSfarsit">
                      <p id="mesajFinal">Tasteaza numele si parola !</p>
                      <p id="incercari"></p>
                  </div>
          </div>
          <br><br>
              <div class="word">
                  <p id="lettersWord"></p>

                  <!--img id="inima" src="#" alt="x"-->
              </div>
              <img id="pozeJoc" src="smiley.png" alt="poz">
     </div>

    <div class="domenii">
    <form class="nivele">
        <p class="titluDomenii"><b><ins>Domenii</ins></b></p>
        <div class="domeniuFloat">
        <input class="domeniu_individual" id="diverse" type="radio" name="levels" value="diverse" checked>
        <label class="domeniu_individual" for="diverse" title="Ai 15 incercari">Diverse</label>
      </div>
      <div class="domeniuFloat">
        <input class="domeniu_individual" id="orase" type="radio" name="levels" value="orase">
        <label class="domeniu_individual" for="orase" title="Ai 5 incercari">Orase</label>
        </div>
        <div class="domeniuFloat">
        <input class="domeniu_individual" id="tari" type="radio" name="levels" value="tari">
        <label class="domeniu_individual" for="tari" title="Ai 10 incercari">Tari</label>
        </div>
        <div class="domeniuFloat">
        <input class="domeniu_individual" id="nume" type="radio" name="levels" value="nume">
        <label class="domeniu_individual" for="nume" title="Ai 5 incercari">Nume</label>
        </div>
        <div class="domeniuFloat">
        <input class="domeniu_individual" id="animale" type="radio" name="levels" value="animale">
        <label class="domeniu_individual" for="animale" title="Ai 5 incercari">Animale</label>
        </div>
        <div class="domeniuFloat">
        <input class="domeniu_individual" id="toate" type="radio" name="levels" value="toate">
        <label class="domeniu_individual" for="animale" title="Ai 5 incercari">Toate</label>
        </div>
     </form>
   </div>
</div>

  <audio id="audioSong">
      <source src="music.mp3" type="audio/mpeg">
  </audio>
  <audio id="applause">
      <source src="applause.wav" type="audio/mpeg">
  </audio>
  <audio id="buzz">
      <source src="buzz_scurt.mp3" type="audio/mpeg">
  </audio>
  <audio id="positive">
      <source src="positive.mp3" type="audio/mpeg">
  </audio>


  <p id="test_final"></p>




<script type="text/javascript">



function verifica(x){
      var diverse = ["masina","aeroport","avion","copac","prieten","printesa","apartament","frunze","patinuar","bicicleta","trotineta","calculator","ecran","gradinita","escavator","parfum"];
      var orase = ["bucuresti","londra","brasov","mangalia","constanta","sibiu","braila","galati","paris","dubai","abudabi","roma","milano","miami","sydney"];
      var tari = ["italia","franta","romania","anglia","korea","china","japonia","america","germania","rusia","bulgaria","turcia","spania","mexic","argentina","norvegia","ungaria","moldova","serbia","ucraina","australia"];
      var nume = ["florentin","raluca","calin","elena","stefania","roxana","maria","antonia","elizabeta","george","razvan","tudor","ioana","cristi","adrian","delia","miruna","matei","sebastian","patrik","ionut","sorin","vasile","sara","mihai","mihaela","madalina","cristina"];
      var animale = ["catel","soparla","girafa","maimuta","pisica","vaca","oaie","tigru","rinocer","elefant","sarpe","dinozaur","pantera","hiena","broasca","vulpe","crocodil","arici","antilopa","bursuc","cangur","camila","castor","foca","hipopotam","iepure","iguana","jaguar","pinguin","puma","scons","scorpion","soarece","veverita","zebra",""];
      if (x === "orase"){return orase;}
      else if (x === "tari") {return tari;}
      else if (x === "nume") {return nume;}
      else if (x === "animale") {return animale;}
      else if (x === "diverse") {return diverse;}
      else {return diverse;} //Aici se pune domeniul toate care ar trebui sa le reuneasca pe toate.

}

function cupaWin(){
        document.querySelector("#incercari").innerHTML="bau bau";
        document.querySelector("#test_final").innerHTML="bau bau";
        document.getElementById('pozeJoc').src="emoji_clap3.png";
        //document.getElementById('inima').src="cupa.jpg";
        myMusic = document.getElementById("applause");
        myMusic.play();
        myMusic.play();
        winConsecutiv = 0;
        setTimeout(() => { document.getElementById('easy').checked=true; start(); }, 5000);
}
function litereColorate(oneOrAll, x, back, letter){
      if (oneOrAll === 0) {
        document.getElementById(x.toLowerCase()).style.background= back;
        document.getElementById(x.toLowerCase()).style.color= letter;
      }else{
        litereAlfabet = document.getElementsByName('litera');
        for (i of litereAlfabet){
            i.style.color= letter;
            i.style.background= back;
        }
      }
      return "";
};
function userAndPassword(x){
      document.querySelector("#mesajFinal").innerHTML=x;
      document.getElementById('pozeJoc').src="smiley-sad.png";
      myMusic = document.getElementById("buzz");
      myMusic.play();
      return "";
};
function score(x,z){ //x=true sau false daca este castig sau nu, z=valoarea
      if(x){
        scorActual += z;
        scorTotal += z;
      }else {
        scorActual -= z;
        scorTotal -= z;
      }
      document.querySelector("#scorActual").innerHTML=scorActual;
      document.querySelector("#scorTotal").innerHTML=scorTotal;
      return "";
};
function cuvantString(x){
      let y = "";
      for (i of x){
        y += i+" ";
      }
      return y;
};

winConsecutiv = 0;
lose_Consecutiv =0;
scorActual = 0;
cupa = false;
gameRunning = false; // daca suntem in timpul jocului
butonStop = false; //butonul de quit game


function nume(){

    numeJucatori = {x:{password:"1",scoreTotal: 100},florentin: {password: "123", scoreTotal: 75, gender: "man"}, raluca: {password: "raluca2008", scoreTotal: 250, gender: "girl"}, ioana: {password: "123", scoreTotal: 50, gender: "girl"}};
    numeInput= document.getElementById('inputUsername').value;
    numeInput = numeInput.toLowerCase();
    passwordInput =document.getElementById('inputPassword').value;

    if (numeJucatori.hasOwnProperty(numeInput) === false){
        userAndPassword("Numele nu este in baza de date.")
        return "";
    }else if (passwordInput != numeJucatori[numeInput].password) {
        userAndPassword("Passwordul este incorect.")
        return "";
    };
    myMusic = document.getElementById("positive");
    myMusic.play();
    scorTotal = numeJucatori[numeInput].scoreTotal;
    document.querySelector("#scorTotal").innerHTML=scorTotal;
    name = numeInput.toUpperCase();
    document.querySelector("h1").innerHTML="Bine ai venit "+name+" !!!";
    document.getElementById("formUsername").reset();
    if (name === "FLORENTIN") {
        document.getElementById('pozProfil').src="flo.jpg";
        document.getElementById('emoji_sex').src="emoji_boy.png";
        document.getElementById("cadranJoc").style.background= "lightblue";
        document.documentElement.style.setProperty('--culoareUser', 'blue');
       }
    else if (name === "RALUCA") {
           document.getElementById('pozProfil').src="ralu.jpg";
           document.getElementById('emoji_sex').src="emoji_girl.png";
           document.getElementById("cadranJoc").style.background= "lightpink";
           document.documentElement.style.setProperty('--culoareUser', '#FF0000');
          }
    else if (name === "IOANA" | name === "OANA") {
              document.getElementById('pozProfil').src="ioana.JPG";
              document.getElementById('emoji_sex').src="emoji_girl.png";
              document.getElementById("cadranJoc").style.background= "lightpink";
              document.documentElement.style.setProperty('--culoareUser', '#FF0000');
             }
    document.querySelector("#mesajFinal").innerHTML="   ";
    domeniuDificultate();
    }
function domeniuDificultate(){
    document.getElementById("startJoc").setAttribute("onclick" , "start()");
    document.querySelector("#mesajFinal").innerHTML="Alege un domeniu si dificultatea.";
    return "";
}

function start(){
        if (butonStop){
          if (confirm("Esti Sigur ca vrei sa opresti jocul?")){ //quit game confirm.
            litereColorate(1, x, "white", "black");
            butonStop = false;
            document.querySelector("#startJoc").innerHTML="Start joc";
            document.getElementById("startJoc").style.background= "white";
            document.getElementById("startJoc").style.color= "black";
            document.querySelector("#mesajFinal").innerHTML="Alege un domeniu si dificultatea.";
            document.querySelector("#incercari").innerHTML="  ";
            document.querySelector("#lettersWord").innerHTML=" ";
            return "";
          };
          return "";
        };
        gameRunning = true;
        gameOver = false;
        butonStop = true;
        document.querySelector("h1").innerHTML="Gaseste cuvantul !";
        document.getElementById("startJoc").setAttribute("onclick" , "start()");//schimba butonul start sa apeleze start()
        document.querySelector("#startJoc").innerHTML="Game Over";
        document.getElementById("startJoc").style.background= "red";
        document.getElementById('pozeJoc').src="smiley.png";
        if (winConsecutiv===2){
            if(document.getElementById('easy').checked){
                document.getElementById('medium').checked=true;
              }else if (document.getElementById('medium').checked) {
                document.getElementById('hard').checked=true;
              }else {
                cupa = true;
              }
            score(true, 5); // bonus de inca 5 puncte pt 2 consecutive
            winConsecutiv = 0;
        }
        if (lose_Consecutiv===2){
            if(document.getElementById('hard').checked){
                document.getElementById('medium').checked=true;
              }else if (document.getElementById('medium').checked) {
                document.getElementById('easy').checked=true;
              }else {
                document.getElementById('easy').checked=true;
              }
            lose_Consecutiv = 0;
            score(false,11); // bonus in minus pt 2 pierderi consecutive
        };
        if (document.getElementById('medium').checked){
          dificulty = "Medium";
          incercari = 10
        }else if (document.getElementById('hard').checked){
          dificulty="Hard";
          incercari = 5
        }else {
          dificulty = "Easy";
          incercari = 15;
        };
        if (document.getElementById('orase').checked){
          domeniu = verifica("orase");
        }else if (document.getElementById('tari').checked){
          domeniu = verifica("tari");
        }else if (document.getElementById('nume').checked){
          domeniu = verifica("nume");
        }else if (document.getElementById('animale').checked){
          domeniu = verifica("animale");
        }else if (document.getElementById('diverse').checked){
          domeniu = verifica("diverse");
        }else if (document.getElementById('toate').checked){
          domeniu = verifica("toate");
        };

        ab = domeniu.sort(()=>Math.random()-0.5);
        b = ab[0].toUpperCase();
        linieIntrerupta = []
        for (i of b){linieIntrerupta.push("_")};
        linieIntreruptaString = cuvantString(linieIntrerupta);
        document.querySelector("#lettersWord").innerHTML=linieIntreruptaString;
        document.querySelector("#mesajFinal").innerHTML="A inceput jocul "+name+", succes !!!";
        document.querySelector("#incercari").innerHTML="Esti pe "+dificulty+". Ai "+incercari+" incercari.";
  };

  function literaCheck(x){
    if (butonStop){
          backgroundLetter = document.getElementById(x.toLowerCase()).style.background;
          if (backgroundLetter === "green" || backgroundLetter === "black"){
              document.querySelector("#mesajFinal").innerHTML="Ai mai apasat pe "+x;
              document.getElementById('pozeJoc').src="smiley-sad.png";
              myMusic = document.getElementById("buzz");
              myMusic.play();
              return "";
          }
          linieIntrerupta2 = "";
          adevar = false;
          for (i in b) {
            if (x === b[i]) {
              adevar = true;
              linieIntrerupta[i] = b[i];
            }
          }
          for (i of linieIntrerupta){
            linieIntrerupta2 += i;
          }

          if (adevar) {
            litereColorate(0, x, "green", "white");
            document.querySelector("#mesajFinal").innerHTML="Ai ghicit o litera !!!";
            document.getElementById('pozeJoc').src="smiley.png";
            document.querySelector("#incercari").innerHTML="Mai ai "+incercari+" incercari.";
            myMusic = document.getElementById("positive");
            myMusic.play();
          }else {
            litereColorate(0, x, "black", "white");
            document.querySelector("#mesajFinal").innerHTML="Nu ai ghicit, mai incearca!";
            document.getElementById('pozeJoc').src="smiley-sad.png";
            incercari--;
            if (incercari === 0) {
              document.querySelector("#mesajFinal").innerHTML="Ai pierdut, cuvantul era:";
              document.querySelector("#incercari").innerHTML=" ";
              score(false,5);
              gameOver = true;
            }else{
            document.querySelector("#incercari").innerHTML="Mai ai "+incercari+" incercari.";
          }
            myMusic = document.getElementById("buzz");
            myMusic.play();
          }

          if (linieIntrerupta2 === b) {
              winConsecutiv++;
              lose_Consecutiv = 0;
              document.querySelector("#mesajFinal").innerHTML="Bravo !!! Ai reusit !!!";
              document.querySelector("#incercari").innerHTML=" ";
              document.getElementById('pozeJoc').src="emoji_clap3.png";
              score(true,10);
              butonStop = false;
              myMusic = document.getElementById("applause");
              myMusic.play();
              setTimeout(() => {litereColorate(1, x, "white", "black"); start(); }, 6000);
          }
          if (gameOver){
              document.querySelector("#lettersWord").innerHTML=b;
              lose_Consecutiv--;
              winConsecutiv = 0;
              butonStop = false;
              setTimeout(() => {litereColorate(1, x, "white", "black"); document.getElementById('easy').checked=true; start(); }, 5000);
          }else {
              linieIntreruptaString = cuvantString(linieIntrerupta);
              document.querySelector("#lettersWord").innerHTML=linieIntreruptaString;
          }
    }else{return ""};
  };

function test(x){
     document.querySelector("#lettersWord").innerHTML=x;
}
function pauza(){
  var popa = 0;
}

     </script>
  </body>
</html>
